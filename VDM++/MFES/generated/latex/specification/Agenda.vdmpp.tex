\begin{vdmpp}[breaklines=true]
class Agenda
instance variables

private healthProfessional : HealthProfessional;
private agenda : set of (Schedule);

inv card agenda >= 0;

operations
(*@
\label{Agenda:10}
@*)
 public Agenda : HealthProfessional ==> Agenda
  Agenda(h) == (healthProfessional := h; agenda := {}; return self)
 post healthProfessional = h and agenda = {};
 
(*@
\label{getHealthProfessional:14}
@*)
 pure public getHealthProfessional : () ==> HealthProfessional
  getHealthProfessional() == (return healthProfessional);
 
(*@
\label{getAgenda:17}
@*)
 pure public getAgenda : () ==> set of (Schedule)
  getAgenda() == (return agenda);
 
(*@
\label{addSchedule:20}
@*)
 public addSchedule : Schedule ==> ()
  addSchedule(s) == (agenda := agenda union {s})
 pre s not in set agenda and forall sch in set agenda & not overlap(s, sch)
 post s in set agenda;
 
(*@
\label{removeSchedule:25}
@*)
 public removeSchedule : Schedule ==> ()
  removeSchedule(s) == (agenda := agenda \ {s})
 pre s in set agenda
 post s not in set agenda;
 
(*@
\label{overlap:30}
@*)
 pure public overlap: Schedule * Schedule ==> bool
  overlap(t1, t2) == (return t1.overlap(t1, t2));
end Agenda
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Agenda:10]{Agenda} & 10&100.0\% & 44 \\
\hline
\hyperref[addSchedule:20]{addSchedule} & 20&100.0\% & 76 \\
\hline
\hyperref[getAgenda:17]{getAgenda} & 17&100.0\% & 197 \\
\hline
\hyperref[getHealthProfessional:14]{getHealthProfessional} & 14&100.0\% & 951 \\
\hline
\hyperref[overlap:30]{overlap} & 30&100.0\% & 32 \\
\hline
\hyperref[removeSchedule:25]{removeSchedule} & 25&100.0\% & 60 \\
\hline
\hline
Agenda.vdmpp & & 100.0\% & 1360 \\
\hline
\end{longtable}

