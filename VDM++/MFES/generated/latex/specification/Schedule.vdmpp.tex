\begin{vdmpp}[breaklines=true]
class Schedule

instance variables
  private startHour: Types`Date;
  private endHour: Types`Date;
  
  inv (*@\vdmnotcovered{lessThan}@*)(startHour, (*@\vdmnotcovered{endHour}@*));
operations 
(*@
\label{Schedule:9}
@*)
 public Schedule: Types`Date * Types`Date ==> Schedule
  Schedule(d, d2) == (startHour := d; endHour := d2; (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{self}@*))
 pre (*@\vdmnotcovered{lessThan}@*)((*@\vdmnotcovered{d}@*), (*@\vdmnotcovered{d2}@*))
 post (*@\vdmnotcovered{startHour}@*) = d and endHour = (*@\vdmnotcovered{d2}@*);
 
(*@
\label{setSchedule:14}
@*)
 public setSchedule : Types`Date * Types`Date ==> ()
  setSchedule(d1, d2) == (startHour := d1; endHour := (*@\vdmnotcovered{d2}@*);)
 pre (*@\vdmnotcovered{lessThan}@*)(d1, (*@\vdmnotcovered{d2}@*))
 post startHour = d1 and endHour = (*@\vdmnotcovered{d2}@*);
  
(*@
\label{getScheduleStart:19}
@*)
 pure public getScheduleStart : () ==> Types`Date
  getScheduleStart() == (return (*@\vdmnotcovered{startHour}@*));
  
(*@
\label{getScheduleEnd:22}
@*)
 pure public getScheduleEnd : () ==> Types`Date
  getScheduleEnd() == (return (*@\vdmnotcovered{endHour}@*));
 
(*@
\label{overlap:25}
@*)
 pure public overlap : Schedule * Schedule ==> bool
  overlap(d1, d2) == (*@\vdmnotcovered{(}@*)
          if((lessThan(d1.startHour, d2.startHour) and greaterThan(d1.endHour, d2.startHour)) (*@\vdmnotcovered{or}@*)
          (not lessThan(d1.startHour, d2.startHour) and lessThan(d1.startHour, d2.(*@\vdmnotcovered{endHour}@*))))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{true}@*);
          return (*@\vdmnotcovered{false}@*););

(*@
\label{lessThan:32}
@*)
 pure static public lessThan : Types`Date * Types`Date ==> bool
  lessThan(d1, d2) == (*@\vdmnotcovered{(}@*)
          if(d1.year < (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{year}@*))
           then return (*@\vdmnotcovered{true}@*)
          else if(d1.year (*@\vdmnotcovered{>}@*) (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{year}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{false}@*);
          if(d1.month < d2.(*@\vdmnotcovered{month}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{true}@*)
          else if(d1.month > d2.(*@\vdmnotcovered{month}@*))
           then return (*@\vdmnotcovered{false}@*);
          if(d1.day < d2.(*@\vdmnotcovered{day}@*))
           then return (*@\vdmnotcovered{true}@*)
          else if(d1.day > d2.(*@\vdmnotcovered{day}@*))
           then return (*@\vdmnotcovered{false}@*);
          if((*@\vdmnotcovered{d1}@*).time.hour < d2.time.hour)
           then return true
          else if(d1.time.hour > d2.time.hour)
           then return false;
          return (d1.time.min < d2.time.min););
          
(*@
\label{greaterThan:52}
@*)
 pure static public greaterThan : Types`Date * Types`Date ==> bool
  greaterThan(d1, d2) == (*@\vdmnotcovered{(}@*)
          if(d1.(*@\vdmnotcovered{year}@*) < d2.(*@\vdmnotcovered{year}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{false}@*)
          else if((*@\vdmnotcovered{d1}@*).(*@\vdmnotcovered{year}@*) > (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{year}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{true}@*);
          (*@\vdmnotcovered{if}@*)((*@\vdmnotcovered{d1}@*).(*@\vdmnotcovered{month}@*) (*@\vdmnotcovered{<}@*) (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{month}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{false}@*)
          else (*@\vdmnotcovered{if}@*)((*@\vdmnotcovered{d1}@*).(*@\vdmnotcovered{month}@*) (*@\vdmnotcovered{>}@*) (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{month}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{true}@*);
          if((*@\vdmnotcovered{d1}@*).(*@\vdmnotcovered{day}@*) (*@\vdmnotcovered{<}@*) (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{day}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{false}@*)
          else (*@\vdmnotcovered{if}@*)((*@\vdmnotcovered{d1}@*).day (*@\vdmnotcovered{>}@*) (*@\vdmnotcovered{d2}@*).(*@\vdmnotcovered{day}@*))
           then (*@\vdmnotcovered{return}@*) (*@\vdmnotcovered{true}@*);
          if((*@\vdmnotcovered{d1}@*).time.hour < d2.time.hour)
           then return false
          else if(d1.time.hour > d2.time.hour)
           then return true;
          return (d1.time.min > d2.time.min););
end Schedule
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Schedule:9]{Schedule} & 9&0.0\% & 0 \\
\hline
\hyperref[getScheduleEnd:22]{getScheduleEnd} & 22&0.0\% & 0 \\
\hline
\hyperref[getScheduleStart:19]{getScheduleStart} & 19&0.0\% & 0 \\
\hline
\hyperref[greaterThan:52]{greaterThan} & 52&0.0\% & 0 \\
\hline
\hyperref[lessThan:32]{lessThan} & 32&0.0\% & 0 \\
\hline
\hyperref[overlap:25]{overlap} & 25&0.0\% & 0 \\
\hline
\hyperref[setSchedule:14]{setSchedule} & 14&0.0\% & 0 \\
\hline
\hline
Schedule.vdmpp & & 0.0\% & 0 \\
\hline
\end{longtable}

