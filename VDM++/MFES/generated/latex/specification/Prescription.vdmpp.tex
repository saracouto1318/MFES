\begin{vdmpp}[breaklines=true]
class Prescription

instance variables
  private medicaments:set of (Medicament);
  private code:Types`String;
  
  inv len code > 1;
operations
 -- Prescription constructor
(*@
\label{Prescription:10}
@*)
 public Prescription: Types`String ==> Prescription
  Prescription(c) == (code := c; medicaments := {}; return self)
 pre len c > 1
 post code = c and medicaments = {};
 
 -- Returns the prescription's code
(*@
\label{getCode:16}
@*)
 pure public getCode : () ==> Types`String
  getCode() == (return code);
 
 -- Adds a medicament to the prescription's medicaments
(*@
\label{addMedicament:20}
@*)
 public addMedicament: Medicament ==> ()
  addMedicament(m) == (medicaments := {m} union medicaments)
 pre m not in set medicaments
 post m in set medicaments;
 
 -- Removes a medicament from the prescription's medicaments
(*@
\label{removeMedicament:26}
@*)
 public removeMedicament: Medicament ==> ()
  removeMedicament(m) == (medicaments := medicaments \ {m})
 pre m in set medicaments
 post m not in set medicaments;
 
 -- Returns the prescription's medicaments
(*@
\label{getMedicaments:32}
@*)
 pure public getMedicaments: () ==> set of (Medicament)
  getMedicaments() == (return medicaments);

end Prescription
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Prescription:10]{Prescription} & 10&100.0\% & 12 \\
\hline
\hyperref[addMedicament:20]{addMedicament} & 20&100.0\% & 2 \\
\hline
\hyperref[getCode:16]{getCode} & 16&100.0\% & 1 \\
\hline
\hyperref[getMedicaments:32]{getMedicaments} & 32&100.0\% & 7 \\
\hline
\hyperref[removeMedicament:26]{removeMedicament} & 26&100.0\% & 1 \\
\hline
\hline
Prescription.vdmpp & & 100.0\% & 23 \\
\hline
\end{longtable}

