\begin{vdmpp}[breaklines=true]
class HealthProfessional is subclass of Person

instance variables
  private medicalNumber: Types`String;
  private specialties:set of (Specialty);
  private patients : set of(Patient);
 private type : Types`Type;
 
 inv card patients >= 0;
  inv card specialties < 5;
 inv type <> nil;
 inv len medicalNumber > 5;
operations
 -- Health Professional constructor
(*@
\label{HealthProfessional:15}
@*)
 public HealthProfessional: Types`String * Types`String * Types`String * Types`String * Types`String * Types`String * Types`Type ==> HealthProfessional
  HealthProfessional(a, fn, ln, c, pn, s, t) == (medicalNumber := s; type := t; specialties := {}; patients := {}; Person(a, fn, ln, c, pn))
 pre t <> nil and len s > 5
 post medicalNumber = s and type = t and specialties = {} and patients = {};
 
 -- Returns the health professional's number
(*@
\label{getMedicalNumber:21}
@*)
 pure public getMedicalNumber: () ==> Types`String
  getMedicalNumber() == (return medicalNumber);
 
 -- Returns the health professional's specialties
(*@
\label{getSpecialties:25}
@*)
 pure public getSpecialties: () ==> set of (Specialty)
  getSpecialties() == (return specialties);
 
 -- Returns all the health professional's patients
(*@
\label{getPatients:29}
@*)
 pure public getPatients: () ==> set of (Patient)
  getPatients() == (return patients);
 
 -- Returns the health professional's type
(*@
\label{getType:33}
@*)
 pure public getType : () ==> Types`Type
  getType() == (return type);
 
 -- Removes a specialty from the health professional's specialties
(*@
\label{removeSpecialty:37}
@*)
 public removeSpecialty: Specialty ==> ()
  removeSpecialty(s) == (specialties := specialties \ {s})
 pre s in set specialties
 post s not in set specialties;
 
 -- Adds a specialty to the health professional's specialties
(*@
\label{addSpecialty:43}
@*)
 public addSpecialty: Specialty ==> ()
  addSpecialty(s) == (specialties := specialties union {s})
 pre s not in set specialties
 post s in set specialties;
 
 -- Adds a patient to the health professional's patients
(*@
\label{addPatient:49}
@*)
 public addPatient : Patient ==> ()
  addPatient(p) == (patients :=  patients union {p})
 pre p not in set patients
 post p in set patients;
 
 -- Removes a patient from the health professional's patients
(*@
\label{removePatient:55}
@*)
 public removePatient : Patient ==> ()
  removePatient(p) == (patients := patients \ {p})
 pre p in set patients
 post p not in set patients;

end HealthProfessional
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[HealthProfessional:15]{HealthProfessional} & 15&100.0\% & 136 \\
\hline
\hyperref[addPatient:49]{addPatient} & 49&100.0\% & 48 \\
\hline
\hyperref[addSpecialty:43]{addSpecialty} & 43&100.0\% & 8 \\
\hline
\hyperref[getMedicalNumber:21]{getMedicalNumber} & 21&100.0\% & 16 \\
\hline
\hyperref[getPatients:29]{getPatients} & 29&100.0\% & 144 \\
\hline
\hyperref[getSpecialties:25]{getSpecialties} & 25&100.0\% & 44 \\
\hline
\hyperref[getType:33]{getType} & 33&100.0\% & 692 \\
\hline
\hyperref[removePatient:55]{removePatient} & 55&100.0\% & 4 \\
\hline
\hyperref[removeSpecialty:37]{removeSpecialty} & 37&100.0\% & 8 \\
\hline
\hline
HealthProfessional.vdmpp & & 100.0\% & 1100 \\
\hline
\end{longtable}

