\begin{vdmpp}[breaklines=true]
class Appointment is subclass of Task

instance variables
  private priority : Types`Priority;
  
  inv priority <> nil;
  inv medicalAssoc.getType() = <Doctor>;
operations
 -- Appointment constructor
 public Appointment: HealthProfessional * Schedule * Patient * Hospital==> Appointment
  Appointment(d, s, p, h) == (medicalAssoc := d; priority := <Medium>; Task(d, s, p, h, <Appointment>))
(*@
\label{Appointment:12}
@*)
 post medicalAssoc = d and priority = <Medium>;
 
 -- Urgency Apppointment constructor
 public Appointment: HealthProfessional * Types`Priority * Schedule * Patient * Hospital ==> Appointment
  Appointment(d, p, s, pat, h) == (medicalAssoc := d; priority := p; Task(d, s, pat, h, <Urgencies>))
 pre p <> nil
 post medicalAssoc = d and priority = p;

 -- Returns the appointment's priority
 pure public getPriority : () ==> Types`Priority
  getPriority() == (return priority);
(*@
\label{getPriority:23}
@*)

  -- Sets the appointment's priority
  public setPriority : Types`Priority ==> ()
   setPriority(p) == (priority := p)
(*@
\label{getPrescriptions:27}
@*)
  pre taskType = <Urgencies>;
  
end Appointment
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[Appointment:12]{Appointment} & 12&100.0\% & 16 \\
\hline
\hyperref[addPrescription:36]{addPrescription} & 36&0.0\% & 0 \\
\hline
\hyperref[getPrescriptions:27]{getPrescriptions} & 27&100.0\% & 4 \\
\hline
\hyperref[getPriority:23]{getPriority} & 23&100.0\% & 12 \\
\hline
\hyperref[removePrescription:42]{removePrescription} & 42&0.0\% & 0 \\
\hline
\hyperref[setPriority:31]{setPriority} & 31&100.0\% & 4 \\
\hline
\hline
Appointment.vdmpp & & 100.0\% & 36 \\
\hline
\end{longtable}

