\begin{vdmpp}[breaklines=true]
class MedicalAssociated is subclass of Person

types
 public String = seq of (char);
 public Type = <Doctor> | <Surgeon> | <Nurse> | <Technician>;
instance variables
  public medicalNumber: String;
  public specialties:set of (Specialty);
  public patients : set of(Patient);
 public type : Type;
 
(*@
\label{MedicalAssociated:12}
@*)
 inv card patients >= 0;
  inv card specialties < 5;

operations
 public MedicalAssociated: String * Type ==> MedicalAssociated
(*@
\label{getMedicalNumber:17}
@*)
  MedicalAssociated(s, t) == (medicalNumber := s; type := t; specialties := {}; patients := {}; return self)
 pre s <> []
 post medicalNumber = s and type = t and specialties = {} and patients = {};
(*@
\label{getSpecialties:20}
@*)
 
 pure public getMedicalNumber: () ==> String
  getMedicalNumber() == (return medicalNumber);
(*@
\label{removeSpecialty:23}
@*)
 
 pure public getSpecialties: () ==> set of (Specialty)
  getSpecialties() == (return specialties);
 
(*@
\label{getPatients:27}
@*)
 pure public getPatients: () ==> set of (Patient)
(*@
\label{addSpecialty:28}
@*)
  getPatients() == (return patients);
  
 pure public getType : () ==> Type
  getType() == (return type);
  
(*@
\label{getType:33}
@*)
 pure public removeSpecialty: Specialty ==> set of(Specialty)
  removeSpecialty(s) == (return specialties \ {s})
 pre s in set specialties
(*@
\label{addPatient:36}
@*)
 post s not in set specialties;
  
 pure public addSpecialty: Specialty ==> set of(Specialty)
  addSpecialty(s) == (return specialties union {s})
 pre s not in set specialties
(*@
\label{removePatient:41}
@*)
 post s in set specialties;
 
 public addPatient : Patient ==> set of(Patient)
  addPatient(p) == (return patients union {p})
 pre p not in set patients
 post p in set patients;
 
 public removePatient : Patient ==> set of(Patient)
  removePatient(p) == (return patients \ {p})
 pre p in set patients
 post p not in set patients;

end MedicalAssociated
\end{vdmpp}
