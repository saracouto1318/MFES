\begin{vdmpp}[breaklines=true]
class SafetyNetHospitalTest
instance variables
 private safetyNet: SafetyNetHospital := (*@\vdmnotcovered{new}@*) (*@\vdmnotcovered{SafetyNetHospital}@*)();
 
 private time1: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)((*@\vdmnotcovered{12}@*), (*@\vdmnotcovered{10}@*));
 private date1: Types`Date := mk_Types`Date((*@\vdmnotcovered{2017}@*), 12, 25, (*@\vdmnotcovered{time1}@*));
 private time2: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{30}@*));
 private date2: Types`Date := mk_Types`Date((*@\vdmnotcovered{2017}@*), 12, 25, (*@\vdmnotcovered{time2}@*));
 private schedule: Schedule := new Schedule(date1, (*@\vdmnotcovered{date2}@*));
 
 private time3: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{15}@*));
 private date3: Types`Date := (*@\vdmnotcovered{mk\_Types`Date}@*)((*@\vdmnotcovered{2017}@*), (*@\vdmnotcovered{12}@*), 25, (*@\vdmnotcovered{time3}@*));
 private time4: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{35}@*));
 private date4: Types`Date := mk_Types`Date(2017, (*@\vdmnotcovered{12}@*), 25, (*@\vdmnotcovered{time4}@*));
 private schedule2: Schedule := (*@\vdmnotcovered{new}@*) (*@\vdmnotcovered{Schedule}@*)((*@\vdmnotcovered{date3}@*), (*@\vdmnotcovered{date4}@*));
 
 private time5: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{40}@*));
 private date5: Types`Date := (*@\vdmnotcovered{mk\_Types`Date}@*)((*@\vdmnotcovered{2017}@*), 12, 25, (*@\vdmnotcovered{time5}@*));
 private time6: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{50}@*));
 private date6: Types`Date := mk_Types`Date(2017, 12, 25, (*@\vdmnotcovered{time6}@*));
 private schedule3: Schedule := new (*@\vdmnotcovered{Schedule}@*)((*@\vdmnotcovered{date5}@*), (*@\vdmnotcovered{date6}@*));
 
 private time7: Types`Time := mk_Types`Time(12, (*@\vdmnotcovered{10}@*));
 private date7: Types`Date := (*@\vdmnotcovered{mk\_Types`Date}@*)((*@\vdmnotcovered{2017}@*), 11, 22, (*@\vdmnotcovered{time7}@*));
 private time8: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{30}@*));
 private date8: Types`Date := (*@\vdmnotcovered{mk\_Types`Date}@*)((*@\vdmnotcovered{2017}@*), 11, 22, (*@\vdmnotcovered{time8}@*));
 private schedule4: Schedule := new (*@\vdmnotcovered{Schedule}@*)((*@\vdmnotcovered{date7}@*), (*@\vdmnotcovered{date8}@*));
 
 private time9: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{35}@*));
 private date9: Types`Date := mk_Types`Date((*@\vdmnotcovered{2017}@*), 11, 23, (*@\vdmnotcovered{time9}@*));
 private time10: Types`Time := (*@\vdmnotcovered{mk\_Types`Time}@*)(12, (*@\vdmnotcovered{45}@*));
 private date10: Types`Date := mk_Types`Date((*@\vdmnotcovered{2017}@*), 11, 23, (*@\vdmnotcovered{time10}@*));
 private schedule5: Schedule := (*@\vdmnotcovered{new}@*) (*@\vdmnotcovered{Schedule}@*)(date9, (*@\vdmnotcovered{date10}@*));
 
 private patient: Patient := new Patient("Rua 1 Maio", "Rui", "Andrade", "123456789", "223456111", (*@\vdmnotcovered{"0987654321"}@*));
 private patient2: Patient := new Patient("Rua 1 Maio", "Diogo", "Andrade", (*@\vdmnotcovered{"123321123"}@*), (*@\vdmnotcovered{"911112345"}@*), (*@\vdmnotcovered{"908765123"}@*));
 private patient3: Patient := new Patient("Rua 1 Maio", (*@\vdmnotcovered{"Vitor"}@*), "Andrade", (*@\vdmnotcovered{"135790864"}@*), (*@\vdmnotcovered{"912345334"}@*), (*@\vdmnotcovered{"123432130"}@*));
 private patient4: Patient := new Patient("Rua 1 Maio", "Simone", "Andrade", "234123765", "931238654", (*@\vdmnotcovered{"0987654143"}@*));
 
  private hospital: Hospital := new Hospital("Hospital das Camélias", "Rua de Cima", (*@\vdmnotcovered{safetyNet}@*));
  
  private doctor: HealthProfessional := new HealthProfessional("Rua de Cima", "Ana", (*@\vdmnotcovered{"Marques"}@*), (*@\vdmnotcovered{"123432156"}@*), "921349076", "111111222", (*@\vdmnotcovered{<Doctor>}@*));
  private doctor2: HealthProfessional := new HealthProfessional("Rua de Cima", "Anabela", "Marques", "123432157", "921349077", "111111223", (*@\vdmnotcovered{<Doctor>}@*));
  private surgeon: HealthProfessional := new HealthProfessional("Rua 2", "Diogo", "Viana", (*@\vdmnotcovered{"234512389"}@*), "921349134", "111111232", (*@\vdmnotcovered{<Surgeon>}@*));
  private secSurgeon: HealthProfessional := new HealthProfessional("Rua 2", "Diana", "Viana", "234512390", (*@\vdmnotcovered{"921349135"}@*), (*@\vdmnotcovered{"111111235"}@*), (*@\vdmnotcovered{<Surgeon>}@*));
 private nurse: HealthProfessional := new HealthProfessional("Rua de Baixo", "Lisete", "Antunes", "123444654", (*@\vdmnotcovered{"921378643"}@*), (*@\vdmnotcovered{"111222333"}@*), (*@\vdmnotcovered{<Nurse>}@*));
 private technician: HealthProfessional := new HealthProfessional("Rua de Baixo", "Luís", "Antunes", (*@\vdmnotcovered{"123444655"}@*), "921377654", (*@\vdmnotcovered{"111222345"}@*), (*@\vdmnotcovered{<Technician>}@*));

 private appointment: Appointment := (*@\vdmnotcovered{new}@*) Appointment((*@\vdmnotcovered{doctor}@*), schedule, (*@\vdmnotcovered{patient}@*), (*@\vdmnotcovered{hospital}@*));
 private appointment2: Appointment := (*@\vdmnotcovered{new}@*) (*@\vdmnotcovered{Appointment}@*)(doctor, schedule3, (*@\vdmnotcovered{patient4}@*), (*@\vdmnotcovered{hospital}@*));
 private appointment3: Appointment := new (*@\vdmnotcovered{Appointment}@*)((*@\vdmnotcovered{doctor2}@*), schedule3, patient, (*@\vdmnotcovered{hospital}@*));
 private urgencies: Appointment := new Appointment((*@\vdmnotcovered{doctor2}@*), (*@\vdmnotcovered{<High>}@*), (*@\vdmnotcovered{schedule}@*), (*@\vdmnotcovered{patient2}@*), (*@\vdmnotcovered{hospital}@*));
 private surgery: Surgery := new (*@\vdmnotcovered{Surgery}@*)(surgeon, schedule, (*@\vdmnotcovered{patient3}@*), (*@\vdmnotcovered{hospital}@*));
 private treatment: Treatment := new Treatment(technician, "Fisioterapia", (*@\vdmnotcovered{schedule}@*), (*@\vdmnotcovered{patient4}@*), (*@\vdmnotcovered{hospital}@*));
 
 private purpose: Types`Purpose := (*@\vdmnotcovered{<Training>}@*);
 private training : Training := new Training(purpose, schedule3, (*@\vdmnotcovered{nurse}@*));
 private train : Training := (*@\vdmnotcovered{new}@*) (*@\vdmnotcovered{Training}@*)((*@\vdmnotcovered{purpose}@*), (*@\vdmnotcovered{schedule4}@*), (*@\vdmnotcovered{doctor}@*));
operations
(*@
\label{assertTrue:60}
@*)
 private assertTrue: bool ==> ()
  assertTrue(cond) == (*@\vdmnotcovered{return}@*)
 pre (*@\vdmnotcovered{cond}@*);
 
(*@
\label{testAddRemoveHospitals:64}
@*)
 public testAddRemoveHospitals: () ==> ()
  testAddRemoveHospitals() == (*@\vdmnotcovered{(}@*)
      dcl h1: Hospital, h2: Hospital, h3: Hospital;
      h1 := new Hospital((*@\vdmnotcovered{"Hospital dos Lusíadas"}@*), "Rua de Cima", (*@\vdmnotcovered{safetyNet}@*));
      h2 := new Hospital("Hospital Novo", "Rua 1 de Maio", (*@\vdmnotcovered{safetyNet}@*));
      (*@\vdmnotcovered{h3}@*) := new Hospital("Hospital da Trofa", (*@\vdmnotcovered{"Rua da Trofa"}@*), (*@\vdmnotcovered{safetyNet}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Number of hospitals: "}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{card}@*) safetyNet.(*@\vdmnotcovered{getHospitals}@*)());
   
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n\textbackslash n Getting hospitals information \textbackslash n"}@*));
      assertTrue(h1.getName() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{"Hospital dos Lusíadas"}@*));
      assertTrue((*@\vdmnotcovered{h2}@*).getName() = (*@\vdmnotcovered{"Hospital Novo"}@*));
      (*@\vdmnotcovered{assertTrue}@*)(h3.(*@\vdmnotcovered{getName}@*)() = (*@\vdmnotcovered{"Hospital da Trofa"}@*));
      
      (*@\vdmnotcovered{assertTrue}@*)(h1.getAddress() = (*@\vdmnotcovered{"Rua de Cima"}@*));
      assertTrue((*@\vdmnotcovered{h2}@*).getAddress() = (*@\vdmnotcovered{"Rua 1 de Maio"}@*));
      assertTrue(h3.getAddress() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{"Rua da Trofa"}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Removing hospitals \textbackslash n"}@*));
      (*@\vdmnotcovered{assertTrue}@*)(card safetyNet.getHospitals() = (*@\vdmnotcovered{4}@*));
      (*@\vdmnotcovered{safetyNet}@*).removeHospital((*@\vdmnotcovered{h1}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Removing hospitals \textbackslash n"}@*));
      (*@\vdmnotcovered{assertTrue}@*)(card safetyNet.(*@\vdmnotcovered{getHospitals}@*)() = (*@\vdmnotcovered{3}@*));
      (*@\vdmnotcovered{safetyNet}@*).removeHospital((*@\vdmnotcovered{h2}@*));
      (*@\vdmnotcovered{assertTrue}@*)(card safetyNet.getHospitals() = (*@\vdmnotcovered{2}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Number of hospitals: "}@*));
      IO`print(card safetyNet.(*@\vdmnotcovered{getHospitals}@*)());
  );
  
(*@
\label{testAddRemoveMedHospital:95}
@*)
  public testAddRemoveMedHospital : () ==> ()
  testAddRemoveMedHospital() == (*@\vdmnotcovered{(}@*)
     dcl agenda1 : Agenda, agenda2 : Agenda, agenda3 : Agenda, agenda4: Agenda, agenda5: Agenda;
     
     (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Adding health professionals \textbackslash n"}@*));
     (*@\vdmnotcovered{hospital}@*).addMedAssociated((*@\vdmnotcovered{doctor}@*));
     (*@\vdmnotcovered{hospital}@*).addMedAssociated((*@\vdmnotcovered{doctor2}@*));
     (*@\vdmnotcovered{hospital}@*).addMedAssociated((*@\vdmnotcovered{surgeon}@*));
     (*@\vdmnotcovered{hospital}@*).addMedAssociated((*@\vdmnotcovered{nurse}@*));
     hospital.addMedAssociated((*@\vdmnotcovered{technician}@*)); 
   
    (*@\vdmnotcovered{for}@*) all a in set (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getAgendas}@*)() do(*@\vdmnotcovered{(}@*)
     if(a.(*@\vdmnotcovered{getHealthProfessional}@*)() = (*@\vdmnotcovered{doctor}@*))
      then (*@\vdmnotcovered{agenda1}@*) := (*@\vdmnotcovered{a}@*)
     else if(a.getHealthProfessional() = (*@\vdmnotcovered{doctor2}@*))
      then (*@\vdmnotcovered{agenda2}@*) := (*@\vdmnotcovered{a}@*)
     else if(a.getHealthProfessional() = (*@\vdmnotcovered{surgeon}@*))
      then (*@\vdmnotcovered{agenda3}@*) := (*@\vdmnotcovered{a}@*)
     else (*@\vdmnotcovered{if}@*)(a.(*@\vdmnotcovered{getHealthProfessional}@*)() = (*@\vdmnotcovered{nurse}@*))
      then (*@\vdmnotcovered{agenda4}@*) := (*@\vdmnotcovered{a}@*)
     else
      agenda5 := (*@\vdmnotcovered{a}@*););
      
      (*@\vdmnotcovered{agenda1}@*).addSchedule((*@\vdmnotcovered{schedule}@*));
      (*@\vdmnotcovered{agenda1}@*).addSchedule((*@\vdmnotcovered{schedule3}@*));
      agenda1.addSchedule((*@\vdmnotcovered{schedule4}@*));
      
      agenda2.addSchedule((*@\vdmnotcovered{schedule}@*));
      agenda2.addSchedule((*@\vdmnotcovered{schedule3}@*));
      
      (*@\vdmnotcovered{agenda3}@*).addSchedule((*@\vdmnotcovered{schedule}@*));
      
      (*@\vdmnotcovered{agenda4}@*).addSchedule((*@\vdmnotcovered{schedule3}@*));
      
      (*@\vdmnotcovered{agenda5}@*).addSchedule((*@\vdmnotcovered{schedule}@*));
      
      assertTrue(card agenda1.getAgenda() = (*@\vdmnotcovered{3}@*));
      assertTrue(card (*@\vdmnotcovered{agenda2}@*).getAgenda() = (*@\vdmnotcovered{2}@*));
      (*@\vdmnotcovered{assertTrue}@*)(card agenda3.(*@\vdmnotcovered{getAgenda}@*)() = (*@\vdmnotcovered{1}@*));
      assertTrue(card agenda4.getAgenda() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      assertTrue(card agenda5.(*@\vdmnotcovered{getAgenda}@*)() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      
      IO`print((*@\vdmnotcovered{"\textbackslash n Total number of doctors: "}@*));
      (*@\vdmnotcovered{IO`print}@*)(card hospital.(*@\vdmnotcovered{getMedicalAssociatedByType}@*)((*@\vdmnotcovered{<Doctor>}@*)));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of surgeons: "}@*));
      (*@\vdmnotcovered{IO`print}@*)(card hospital.getMedicalAssociatedByType((*@\vdmnotcovered{<Surgeon>}@*)));
      IO`print((*@\vdmnotcovered{"\textbackslash n Total number of nurses: "}@*));
      IO`print(card hospital.getMedicalAssociatedByType((*@\vdmnotcovered{<Nurse>}@*)));
      IO`print((*@\vdmnotcovered{"\textbackslash n Total number of technicians: "}@*));
      IO`print(card hospital.getMedicalAssociatedByType((*@\vdmnotcovered{<Technician>}@*)));
      
      assertTrue(card hospital.(*@\vdmnotcovered{getMedicalAssociatedByType}@*)(<Doctor>) = (*@\vdmnotcovered{2}@*));
      assertTrue(card hospital.getMedicalAssociatedByType(<Surgeon>) = (*@\vdmnotcovered{1}@*));
      assertTrue(card hospital.getMedicalAssociatedByType((*@\vdmnotcovered{<Nurse>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      assertTrue(card hospital.getMedicalAssociatedByType(<Technician>) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of doctors: "}@*));
      (*@\vdmnotcovered{IO`print}@*)(card hospital.(*@\vdmnotcovered{getMedicalAssociatedByType}@*)((*@\vdmnotcovered{<Doctor>}@*)));
      
      (*@\vdmnotcovered{assertTrue}@*)(card hospital.getMedicalAssociatedByType(<Doctor>) = (*@\vdmnotcovered{2}@*));
      
      IO`print((*@\vdmnotcovered{"\textbackslash n Removing a doctor \textbackslash n"}@*));
      (*@\vdmnotcovered{hospital}@*).addTask((*@\vdmnotcovered{appointment}@*));
      hospital.addTraining((*@\vdmnotcovered{train}@*));
      hospital.removeMedAssociated((*@\vdmnotcovered{doctor}@*));
      assertTrue(card hospital.getMedicalAssociatedByType(<Doctor>) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*)); 
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of doctors: "}@*));
      (*@\vdmnotcovered{IO`print}@*)(card hospital.(*@\vdmnotcovered{getMedicalAssociatedByType}@*)((*@\vdmnotcovered{<Doctor>}@*)));
      
      hospital.addMedAssociated((*@\vdmnotcovered{doctor}@*));
      
      for all a in set hospital.(*@\vdmnotcovered{getAgendas}@*)() do
       if(a.getHealthProfessional().getCC() = doctor.(*@\vdmnotcovered{getCC}@*)())
        then agenda1 := (*@\vdmnotcovered{a}@*);
      
      agenda1.addSchedule((*@\vdmnotcovered{schedule}@*));
      agenda1.addSchedule((*@\vdmnotcovered{schedule3}@*));
      (*@\vdmnotcovered{assertTrue}@*)(card agenda1.getAgenda() = (*@\vdmnotcovered{2}@*));
       
  );
  
(*@
\label{testAddRemoveTaskHospital:177}
@*)
    public testAddRemoveTaskHospital : () ==> ()
    testAddRemoveTaskHospital() == (*@\vdmnotcovered{(}@*)      
      (*@\vdmnotcovered{hospital}@*).addTask((*@\vdmnotcovered{appointment}@*));
      hospital.addTask((*@\vdmnotcovered{appointment2}@*));
      hospital.addTask((*@\vdmnotcovered{appointment3}@*));
      (*@\vdmnotcovered{hospital}@*).addTask((*@\vdmnotcovered{urgencies}@*));
      hospital.addTask((*@\vdmnotcovered{surgery}@*));
      hospital.addTask((*@\vdmnotcovered{treatment}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n\textbackslash n Total number of appointments: "}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Appointment>}@*)));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of urgencies: "}@*));
      (*@\vdmnotcovered{IO`print}@*)(card hospital.getTasksByType((*@\vdmnotcovered{<Urgencies>}@*)));
      IO`print((*@\vdmnotcovered{"\textbackslash n Total number of surgeries: "}@*));
      IO`print((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Surgery>}@*)));
      IO`print((*@\vdmnotcovered{"\textbackslash n Total number of other treatments: "}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Other>}@*)));
      
      assertTrue((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Appointment>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{3}@*));
      assertTrue((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Urgencies>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      assertTrue(card hospital.getTasksByType(<Surgery>) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      assertTrue(card hospital.(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Other>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{1}@*));
      
      IO`print((*@\vdmnotcovered{"\textbackslash n Removing an appointment \textbackslash n"}@*));
      hospital.removeTask((*@\vdmnotcovered{appointment}@*));
      assertTrue(card hospital.getTasksByType(<Appointment>) = (*@\vdmnotcovered{2}@*));
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of appointments: "}@*));
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Appointment>}@*)));
      
      IO`print((*@\vdmnotcovered{"\textbackslash n Adding an appointment \textbackslash n"}@*));
      hospital.addTask((*@\vdmnotcovered{appointment}@*));
      (*@\vdmnotcovered{assertTrue}@*)((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).getTasksByType(<Appointment>) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{3}@*)); 
      
      (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Total number of appointments: "}@*));
      IO`print(card (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTasksByType}@*)((*@\vdmnotcovered{<Appointment>}@*)));  
  );
  
(*@
\label{testAddRemoveTrainingHospital:215}
@*)
  public testAddRemoveTrainingHospital : () ==> ()
   testAddRemoveTrainingHospital() == (*@\vdmnotcovered{(}@*)
    (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n\textbackslash n Total number of trainings: "}@*));
    IO`print((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).getTrainingsByType((*@\vdmnotcovered{<Training>}@*)) (*@\vdmnotcovered{+}@*) card hospital.getTrainingsByType((*@\vdmnotcovered{<AddSkills>}@*)));

    (*@\vdmnotcovered{assertTrue}@*)(card hospital.getTrainingsByType((*@\vdmnotcovered{<Training>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{0}@*));
    (*@\vdmnotcovered{assertTrue}@*)(card (*@\vdmnotcovered{hospital}@*).getTrainingsByType((*@\vdmnotcovered{<AddSkills>}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{0}@*));
    
    (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Adding a training \textbackslash n"}@*));
    hospital.addTraining((*@\vdmnotcovered{training}@*));
    assertTrue((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).getTrainingsByType(<Training>) = (*@\vdmnotcovered{1}@*));
    
    IO`print((*@\vdmnotcovered{"\textbackslash n Total number of trainings: "}@*));
    IO`print((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{hospital}@*).getTrainingsByType(<Training>) (*@\vdmnotcovered{+}@*) card hospital.getTrainingsByType((*@\vdmnotcovered{<AddSkills>}@*)));
    
    (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n Removing a training \textbackslash n"}@*));
    hospital.removeTraining((*@\vdmnotcovered{training}@*));
    (*@\vdmnotcovered{assertTrue}@*)(card hospital.(*@\vdmnotcovered{getTrainingsByType}@*)(<Training>) = (*@\vdmnotcovered{0}@*));
    
    (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n\textbackslash n Total number of trainings: "}@*));
    (*@\vdmnotcovered{IO`print}@*)(card (*@\vdmnotcovered{hospital}@*).(*@\vdmnotcovered{getTrainingsByType}@*)(<Training>) + card (*@\vdmnotcovered{hospital}@*).getTrainingsByType((*@\vdmnotcovered{<AddSkills>}@*)));
  );
  
(*@
\label{testGetHospitalsMoreAppointments:238}
@*)
  public testGetHospitalsMoreAppointments : () ==> ()
   testGetHospitalsMoreAppointments() == (*@\vdmnotcovered{(}@*) 
    IO`print((*@\vdmnotcovered{"\textbackslash n Checking Safety Net Hospitals with more appointments, etc \textbackslash n"}@*));
    assertTrue((*@\vdmnotcovered{safetyNet}@*).getHospitalsMoreAppointments((*@\vdmnotcovered{<Appointment>}@*)).getName() = (*@\vdmnotcovered{"Hospital das Camélias"}@*));
    (*@\vdmnotcovered{assertTrue}@*)(safetyNet.(*@\vdmnotcovered{getHospitalsMoreAppointments}@*)(<Urgencies>).getName() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{"Hospital das Camélias"}@*));
    assertTrue(safetyNet.(*@\vdmnotcovered{getHospitalsMoreAppointments}@*)(<Surgery>).getName() (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{"Hospital das Camélias"}@*));
    (*@\vdmnotcovered{assertTrue}@*)(safetyNet.getHospitalsMoreAppointments((*@\vdmnotcovered{<Other>}@*)).getName() = (*@\vdmnotcovered{"Hospital das Camélias"}@*));
   );
   
(*@
\label{testGetMedMoreHospitals:247}
@*)
  public testGetMedMoreHospitals : () ==> ()
   testGetMedMoreHospitals() == (*@\vdmnotcovered{(}@*)
    for all t in set (*@\vdmnotcovered{safetyNet}@*).(*@\vdmnotcovered{getHospitals}@*)() do
     if(t.(*@\vdmnotcovered{getName}@*)() (*@\vdmnotcovered{<>}@*) (*@\vdmnotcovered{"Hospital das Camélias"}@*))
      then (*@\vdmnotcovered{t}@*).addMedAssociated((*@\vdmnotcovered{doctor}@*));
    
    IO`print((*@\vdmnotcovered{"\textbackslash n Checking Safety Net Doctors that works in more than 1 hospital \textbackslash n"}@*));
    IO`print((*@\vdmnotcovered{"\textbackslash n Number of Doctors: "}@*)); 
    IO`print(card safetyNet.(*@\vdmnotcovered{getMedMoreHospitals}@*)((*@\vdmnotcovered{<Doctor>}@*))); 
    assertTrue((*@\vdmnotcovered{card}@*) (*@\vdmnotcovered{safetyNet}@*).(*@\vdmnotcovered{getMedMoreHospitals}@*)((*@\vdmnotcovered{<Doctor>}@*)) = (*@\vdmnotcovered{1}@*));
    (*@\vdmnotcovered{assertTrue}@*)(safetyNet.getMedMoreHospitals(<Doctor>) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{\{}@*)(*@\vdmnotcovered{doctor}@*)});  
   );
  
(*@
\label{testGetMedAssociatedByPatient:260}
@*)
  public testGetMedAssociatedByPatient : () ==> ()
   testGetMedAssociatedByPatient() == (*@\vdmnotcovered{(}@*)
    dcl mapTest : map Hospital to set of (HealthProfessional);
    IO`print((*@\vdmnotcovered{"\textbackslash n\textbackslash n Getting Doctors associated by patient by hospital \textbackslash n"}@*));
    (*@\vdmnotcovered{mapTest}@*) := (*@\vdmnotcovered{safetyNet}@*).(*@\vdmnotcovered{getMedAssociatedByPatient}@*)((*@\vdmnotcovered{patient}@*), (*@\vdmnotcovered{<Doctor>}@*));
    
    (*@\vdmnotcovered{assertTrue}@*)(card mapTest(hospital) = (*@\vdmnotcovered{2}@*));
    assertTrue((*@\vdmnotcovered{mapTest}@*)((*@\vdmnotcovered{hospital}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{\{}@*)(*@\vdmnotcovered{doctor}@*), (*@\vdmnotcovered{doctor2}@*)});
   );
   
(*@
\label{testGetMedByHospital:270}
@*)
  public testGetMedByHospital : () ==> ()
   testGetMedByHospital() == (*@\vdmnotcovered{(}@*)
    dcl mapTest : map Hospital to set of (HealthProfessional);
    (*@\vdmnotcovered{IO`print}@*)((*@\vdmnotcovered{"\textbackslash n\textbackslash n Getting Doctors associated by hospital \textbackslash n"}@*));
    mapTest := safetyNet.(*@\vdmnotcovered{getMedByHospital}@*)((*@\vdmnotcovered{<Doctor>}@*));
    
    assertTrue(card mapTest((*@\vdmnotcovered{hospital}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{2}@*));
    (*@\vdmnotcovered{assertTrue}@*)((*@\vdmnotcovered{mapTest}@*)((*@\vdmnotcovered{hospital}@*)) = {doctor, (*@\vdmnotcovered{doctor2}@*)});
    
    mapTest := safetyNet.(*@\vdmnotcovered{getMedByHospital}@*)((*@\vdmnotcovered{<Surgeon>}@*));
    
    (*@\vdmnotcovered{assertTrue}@*)(card mapTest(hospital) = (*@\vdmnotcovered{1}@*));
    (*@\vdmnotcovered{assertTrue}@*)(mapTest((*@\vdmnotcovered{hospital}@*)) (*@\vdmnotcovered{=}@*) (*@\vdmnotcovered{\{}@*)(*@\vdmnotcovered{surgeon}@*)});
   );
   
(*@
\label{main:285}
@*)
  public static main: () ==> ()
   main() == (*@\vdmnotcovered{(}@*)
    dcl safetyNetTest: SafetyNetHospitalTest := new (*@\vdmnotcovered{SafetyNetHospitalTest}@*)();
    IO`print((*@\vdmnotcovered{"\textbackslash n *****Running SafetyNetHospitalTest***** \textbackslash n"}@*));
    (*@\vdmnotcovered{safetyNetTest}@*).testAddRemoveHospitals();
    (*@\vdmnotcovered{safetyNetTest}@*).testAddRemoveMedHospital();
    (*@\vdmnotcovered{safetyNetTest}@*).testAddRemoveTaskHospital();
    (*@\vdmnotcovered{safetyNetTest}@*).testAddRemoveTrainingHospital();
    (*@\vdmnotcovered{safetyNetTest}@*).testGetHospitalsMoreAppointments();
    (*@\vdmnotcovered{safetyNetTest}@*).testGetMedMoreHospitals();
    (*@\vdmnotcovered{safetyNetTest}@*).testGetMedAssociatedByPatient();
    (*@\vdmnotcovered{safetyNetTest}@*).testGetMedByHospital();
   );
      
end SafetyNetHospitalTest
\end{vdmpp}
\bigskip
\begin{longtable}{|l|r|r|r|}
\hline
Function or operation & Line & Coverage & Calls \\
\hline
\hline
\hyperref[assertTrue:60]{assertTrue} & 60&0.0\% & 0 \\
\hline
\hyperref[main:285]{main} & 285&0.0\% & 0 \\
\hline
\hyperref[testAddRemoveHospitals:64]{testAddRemoveHospitals} & 64&0.0\% & 0 \\
\hline
\hyperref[testAddRemoveMedHospital:95]{testAddRemoveMedHospital} & 95&0.0\% & 0 \\
\hline
\hyperref[testAddRemoveTaskHospital:177]{testAddRemoveTaskHospital} & 177&0.0\% & 0 \\
\hline
\hyperref[testAddRemoveTrainingHospital:215]{testAddRemoveTrainingHospital} & 215&0.0\% & 0 \\
\hline
\hyperref[testGetHospitalsMoreAppointments:238]{testGetHospitalsMoreAppointments} & 238&0.0\% & 0 \\
\hline
\hyperref[testGetMedAssociatedByPatient:260]{testGetMedAssociatedByPatient} & 260&0.0\% & 0 \\
\hline
\hyperref[testGetMedByHospital:270]{testGetMedByHospital} & 270&0.0\% & 0 \\
\hline
\hyperref[testGetMedMoreHospitals:247]{testGetMedMoreHospitals} & 247&0.0\% & 0 \\
\hline
\hline
SafetyNetHospitalTest.vdmpp & & 0.0\% & 0 \\
\hline
\end{longtable}

